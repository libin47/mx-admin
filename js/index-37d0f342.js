import{f as x,y as O,Z as R,a7 as M,dD as te,dE as V,dF as ue,c5 as ne,m as T,a as e,K as oe,dG as se,w as E,R as k,k as $,q as J,n as Y,p as L,F as _,dH as B,H as s,E as m,d as K,c0 as U,b as g,dI as X,bn as re,cH as ie,dJ as de,bY as pe,b$ as ce,N as S,I as me,A as ve,M as fe,x as Z,dK as be,bo as ye,u as we,dL as ge,dc as Oe,cv as he,j as Ie,C as ke}from"./index-6c3d0c7c.js";import{R as Q}from"./relative-time-372b054b.js";import{H as j}from"./rounded-button-6b1cec71.js";import{_ as H}from"./CheckCircleOutlined-e6b5e084.js";import{i as P}from"./isEmpty-1c864c69.js";import{b as xe,o as Ne}from"./omit-268d7347.js";import{a as Se,f as Ee,N as u}from"./FormItem-a514b1e3.js";import{N as ee,a as y,b as Ue}from"./DynamicInput-a692d270.js";import{N as f}from"./Form-3250af3f.js";import{N as D}from"./DynamicTags-b8b8796f.js";import{N as w}from"./Switch-66b5e2fd.js";import{N as Ae}from"./InputNumber-a1d6ce22.js";import{N as Pe}from"./DatePicker-7286871d.js";import{a as Ce}from"./DataTable-5273d92a.js";import{N as De}from"./Popconfirm-a049e8bd.js";import{N as Fe}from"./Select-0014973c.js";import{U as Ve}from"./index-18bea9ad.js";import{N as Te}from"./Upload-15c51607.js";import{N as Be,a as F}from"./Tabs-61542ace.js";import"./index-469190cc.js";import"./ChevronRight-69ce7240.js";import"./Add-c4adee49.js";import"./ButtonGroup-e3c99143.js";import"./Tag-2aefbd73.js";import"./prop-46b62c35.js";import"./Forward-d05cab28.js";import"./Checkbox-f09483a6.js";import"./Icon-7b1fa040.js";import"./Tooltip-a36480ff.js";import"./throttle-1cebd8b8.js";var Ke=1,Le=4;function ae(t){return xe(t,Ke|Le)}const _e=Object.assign(Object.assign({},ue),Se);var I=x({__GRID_ITEM__:!0,name:"FormItemGridItem",alias:["FormItemGi"],props:_e,setup(){const t=O(null);return{formItemInstRef:t,validate:(...p)=>{const{value:o}=t;if(o)return o.validate(...p)},restoreValidation:()=>{const{value:p}=t;if(p)return p.restoreValidation()}}},render(){return R(V,M(this.$.vnode.props||{},te),{default:()=>{const t=M(this.$props,Ee);return R(u,Object.assign({ref:"formItemInstRef"},t),this.$slots)}})}});const Ge="mt-6",Re={class:Ge,labelPlacement:"left",labelAlign:"right",labelWidth:150,autocomplete:"chrome-off"},v={autosize:!0,clearable:!0,style:"min-width: 300px; max-width: 100%"},Me=x(()=>{const{setHeaderButtons:t}=ne();T(()=>{t(e(j,{disabled:!0,onClick:o,icon:e(H,null,null)},null))}),oe(()=>{t(null)});let c={};const a=O(q({})),p=O({});E(()=>a.value,l=>{p.value=X(c,re(l))},{deep:!0}),E(()=>p.value,l=>{let h=!1;P(l)?h=!1:h=!0,t(e(j,{disabled:!h,icon:e(H,null,null),onClick:o},null))});async function o(){if(P(p.value))return;const l=Object.entries(p.value);for await(const[h,N]of l){const le=Object.fromEntries(Object.entries(N).map(([C,G])=>Array.isArray(G)?[C,a.value[h][C]]:[C,G]));await k.api.options(h).patch({data:le})}await d(),message.success("\u4FEE\u6539\u6210\u529F")}const d=async()=>{let l=await k.api.options.get();l=q(Ne(l,["ok"])),c=ae(l),a.value=l};T(()=>{d()});const n=O(["website"]),b=$(J),r=Y(()=>b.viewport.value.mobile?1:2),i=L(Re);return E(()=>b.viewport.value.mobile,l=>{l?(i.labelPlacement="top",i.labelAlign="left"):(i.labelPlacement="left",i.labelAlign="right")},{immediate:!0}),()=>e(_,null,[e("div",{class:"pt-4"},null),e(ee,{accordion:!0,displayDirective:"if",expandedNames:n.value,onUpdateExpandedNames:l=>{n.value=l}},{default:()=>[e(y,{title:"\u7F51\u7AD9\u8BBE\u7F6E",name:"website"},{default:()=>[e(f,i,{default:()=>[e(B,{cols:r.value,xGap:12},{default:()=>[e(I,{span:1,label:"\u524D\u7AEF\u5730\u5740"},{default:()=>[e(s,{value:a.value.url.webUrl,onInput:l=>void(a.value.url.webUrl=l)},null)]}),e(I,{span:1,label:"API \u5730\u5740"},{default:()=>[e(s,{value:a.value.url.serverUrl,onInput:l=>void(a.value.url.serverUrl=l)},null)]}),e(I,{span:1,label:"\u540E\u53F0\u5730\u5740"},{default:()=>[e(s,{value:a.value.url.adminUrl,onInput:l=>void(a.value.url.adminUrl=l)},null)]}),e(I,{span:1,label:"Gateway \u5730\u5740"},{default:()=>[e(s,{value:a.value.url.wsUrl,onInput:l=>void(a.value.url.wsUrl=l)},null)]})]})]})]}),e(y,{title:"SEO \u4F18\u5316",name:"seo"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u7F51\u7AD9\u6807\u9898"},{default:()=>[e(s,m(v,{value:a.value.seo.title,onInput:l=>void(a.value.seo.title=l)}),null)]}),e(u,{label:"\u7F51\u7AD9\u63CF\u8FF0"},{default:()=>[e(s,m(v,{value:a.value.seo.description,onInput:l=>void(a.value.seo.description=l)}),null)]}),e(u,{label:"\u5173\u952E\u5B57"},{default:()=>[e(D,{round:!0,type:"primary",value:a.value.seo.keywords,onUpdateValue:l=>void(a.value.seo.keywords=l)},null)]})]})]}),e(y,{title:"\u540E\u53F0\u9644\u52A0\u8BBE\u7F6E",name:"adminExtra"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u5F00\u542F\u540E\u53F0\u7BA1\u7406\u53CD\u4EE3"},{default:()=>[e(w,{value:a.value.adminExtra.enableAdminProxy,onUpdateValue:l=>void(a.value.adminExtra.enableAdminProxy=l)},null)]}),e(u,{label:"\u4E2D\u540E\u53F0\u6807\u9898"},{default:()=>[e(s,m(v,{value:a.value.adminExtra.title,onUpdateValue:l=>void(a.value.adminExtra.title=l)}),null)]}),e(u,{label:"\u767B\u5F55\u9875\u9762\u80CC\u666F"},{default:()=>[e(s,m(v,{value:a.value.adminExtra.background,inputProps:{autocomplete:"off"},onUpdateValue:l=>void(a.value.adminExtra.background=l)}),null)]}),e(u,{label:"\u9AD8\u5FB7\u67E5\u8BE2 API Key"},{default:()=>[e(s,m(v,{value:a.value.adminExtra.gaodemapKey,type:"password",showPasswordOn:"click",clearable:!0,inputProps:{autocomplete:"off"},onUpdateValue:l=>{a.value.adminExtra.gaodemapKey=l}}),null)]})]})]}),e(y,{title:"\u6587\u672C\u8BBE\u7F6E",name:"text"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u6587\u672C\u5B8F\u66FF\u6362"},{default:()=>[e(w,{value:a.value.textOptions.macros,onUpdateValue:l=>void(a.value.textOptions.macros=l)},null)]})]})]}),e(y,{title:"\u8BC4\u8BBA\u8BBE\u7F6E",name:"comment"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u53CD\u5783\u573E\u8BC4\u8BBA"},{default:()=>[e(w,{value:a.value.commentOptions.antiSpam,onUpdateValue:l=>void(a.value.commentOptions.antiSpam=l)},null)]}),e(u,{label:"\u81EA\u5B9A\u4E49\u5C4F\u853D\u5173\u952E\u8BCD"},{default:()=>[e(D,{disabled:!a.value.commentOptions.antiSpam,value:a.value.commentOptions.spamKeywords,onUpdateValue:l=>void(a.value.commentOptions.spamKeywords=l),type:"primary"},null)]}),e(u,{label:"\u81EA\u5B9A\u4E49\u5C4F\u853D IP"},{default:()=>[e(D,{disabled:!a.value.commentOptions.antiSpam,value:a.value.commentOptions.blockIps,onUpdateValue:l=>void(a.value.commentOptions.blockIps=l),type:"primary"},null)]}),e(u,{label:"\u7981\u6B62\u975E\u4E2D\u6587\u8BC4\u8BBA"},{default:()=>[e(w,{value:a.value.commentOptions.disableNoChinese,onUpdateValue:l=>void(a.value.commentOptions.disableNoChinese=l)},null)]})]})]}),e(y,{title:"\u53CB\u94FE\u8BBE\u7F6E",name:"friendLink"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u662F\u5426\u5141\u8BB8\u7533\u8BF7\u53CB\u94FE"},{default:()=>[e(w,{value:a.value.friendLinkOptions.allowApply,onUpdateValue:l=>void(a.value.friendLinkOptions.allowApply=l)},null)]})]})]}),e(y,{title:"\u90AE\u4EF6\u901A\u77E5\u8BBE\u7F6E",name:"mail"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u5F00\u542F\u90AE\u7BB1\u63D0\u9192"},{default:()=>[e(w,{value:a.value.mailOptions.enable,onUpdateValue:l=>void(a.value.mailOptions.enable=l)},null)]}),e(B,{cols:r.value,xGap:12},{default:()=>[e(I,{span:1,label:"\u53D1\u4EF6\u90AE\u7BB1 host"},{default:()=>[e(s,{value:a.value.mailOptions.options?.host||"",onInput:l=>{a.value.mailOptions.options||(a.value.mailOptions.options={}),a.value.mailOptions.options.host=l}},null)]}),e(I,{span:1,label:"\u53D1\u4EF6\u90AE\u7BB1\u7AEF\u53E3"},{default:()=>[e(Ae,{value:a.value.mailOptions.options?.port||465,onUpdateValue:l=>{a.value.mailOptions.options||(a.value.mailOptions.options={}),a.value.mailOptions.options.port=l??465}},null)]}),e(I,{span:1,label:"\u53D1\u4EF6\u90AE\u7BB1\u5730\u5740"},{default:()=>[e(s,{value:a.value.mailOptions.user,onInput:l=>void(a.value.mailOptions.user=l)},null)]}),e(I,{span:1,label:"\u53D1\u4EF6\u90AE\u7BB1\u5BC6\u7801"},{default:()=>[e(s,{type:"password",showPasswordOn:"click",inputProps:{name:"email-password",autocomplete:"new-password",autocapitalize:"off",autocorrect:"off"},value:a.value.mailOptions.pass,onInput:l=>void(a.value.mailOptions.pass=l)},null)]})]})]})]}),e(y,{name:"backup",title:"\u5907\u4EFD"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u5F00\u542F\u81EA\u52A8\u5907\u4EFD"},{default:()=>[e(K,{vertical:!0},{default:()=>[e(w,{value:a.value.backupOptions.enable,onUpdateValue:l=>void(a.value.backupOptions.enable=l)},null),e(U,{class:"text-xs",depth:3},{default:()=>[g("\u586B\u5199\u4EE5\u4E0B COS \u4FE1\u606F, \u5C06\u540C\u65F6\u4E0A\u4F20\u5907\u4EFD\u5230 COS")]})]})]}),e(u,{label:"\u5730\u57DF Region"},{default:()=>[e(s,m(v,{value:a.value.backupOptions.region,onInput:l=>void(a.value.backupOptions.region=l)}),null)]}),e(u,{label:"SecretId"},{default:()=>[e(s,m(v,{value:a.value.backupOptions.secretId,onInput:l=>void(a.value.backupOptions.secretId=l)}),null)]}),e(u,{label:"SecretKey"},{default:()=>[e(s,m(v,{type:"password",inputProps:{name:"secret-key-password",autocomplete:"new-password",autocapitalize:"off",autocorrect:"off"},showPasswordOn:"click",value:a.value.backupOptions.secretKey,onInput:l=>void(a.value.backupOptions.secretKey=l)}),null)]})]})]}),e(y,{name:"baidu_push",title:"\u767E\u5EA6\u63A8\u9001"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u5F00\u542F\u63A8\u9001"},{default:()=>[e(w,{value:a.value.baiduSearchOptions.enable,onUpdateValue:l=>void(a.value.baiduSearchOptions.enable=l)},null)]}),e(u,{label:"Token",path:"baidu_push"},{default:()=>[e(s,m(v,{showPasswordOn:"click",type:"password",inputProps:{name:"baidu-push-password",autocomplete:"new-password",autocapitalize:"off",autocorrect:"off"},disabled:!a.value.baiduSearchOptions.enable,value:a.value.baiduSearchOptions.token,onUpdateValue:l=>void(a.value.baiduSearchOptions.token=l)}),null)]})]})]}),e(y,{name:"algolia",title:"Algolia Search"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u5F00\u542F Algolia Search"},{default:()=>[e(w,{value:a.value.algoliaSearchOptions.enable,onUpdateValue:l=>void(a.value.algoliaSearchOptions.enable=l)},null)]}),e(u,{label:"AppId"},{default:()=>[e(s,m(v,{disabled:!a.value.algoliaSearchOptions.enable,value:a.value.algoliaSearchOptions.appId,onInput:l=>void(a.value.algoliaSearchOptions.appId=l)}),null)]}),e(u,{label:"apiKey"},{default:()=>[e(s,m(v,{type:"password",disabled:!a.value.algoliaSearchOptions.enable,value:a.value.algoliaSearchOptions.apiKey,onInput:l=>void(a.value.algoliaSearchOptions.apiKey=l)}),null)]}),e(u,{label:"indexName"},{default:()=>[e(s,m(v,{disabled:!a.value.algoliaSearchOptions.enable,value:a.value.algoliaSearchOptions.indexName,onInput:l=>void(a.value.algoliaSearchOptions.indexName=l)}),null)]})]})]}),e(y,{name:"terminal",title:"\u7EC8\u7AEF\u8BBE\u5B9A"},{default:()=>[e(f,i,{default:()=>[e(u,{label:"\u5F00\u542F WebShell"},{default:()=>[e(w,{value:a.value.terminalOptions.enable,onUpdateValue:l=>void(a.value.terminalOptions.enable=l)},null)]}),e(u,{label:"\u8BBE\u5B9A\u5BC6\u7801"},{default:()=>[e(s,m(v,{value:a.value.terminalOptions.password,showPasswordOn:"click",type:"password",inputProps:{name:"xterm-password",autocomplete:"new-password",autocapitalize:"off",autocorrect:"off"},onUpdateValue:l=>void(a.value.terminalOptions.password=l)}),null),e(U,{class:"ml-4 text-xs",depth:3},{default:()=>[g("\u5BC6\u7801\u4E3A\u7A7A\u5219\u4E0D\u542F\u7528\u5BC6\u7801\u9A8C\u8BC1")]})]}),e(u,{label:"\u9884\u5148\u6267\u884C\u547D\u4EE4"},{default:()=>[e(s,{type:"textarea",autosize:{minRows:4},value:a.value.terminalOptions.script,onUpdateValue:l=>void(a.value.terminalOptions.script=l)},null)]})]})]})]}),e(U,{class:"ml-4 mt-8 text-xs inline-block",depth:3},{default:()=>[g("* \u654F\u611F\u5B57\u6BB5\u4E0D\u663E\u793A\uFF0C\u540E\u7AEF\u9ED8\u8BA4\u4E0D\u8FD4\u56DE\u654F\u611F\u5B57\u6BB5\uFF0C\u663E\u793A\u4E3A\u7A7A")]})])});function q(t){return se({seo:{title:"",description:"",keywords:[]},url:{wsUrl:"",adminUrl:"",serverUrl:"",webUrl:""},mailOptions:{user:"",pass:"",options:{host:"",port:465},enable:!1},commentOptions:{antiSpam:!1,spamKeywords:[],blockIps:[],disableNoChinese:!1},backupOptions:{enable:!1,secretId:"",secretKey:"",bucket:"",region:""},baiduSearchOptions:{enable:!1,token:""},algoliaSearchOptions:{enable:!1},adminExtra:{enableAdminProxy:!1,background:"",gaodemapKey:"",title:"\u9759\u304B\u306A\u68EE"},terminalOptions:{enable:!1,script:""},friendLinkOptions:{allowApply:!0},textOptions:{macros:!1}},t)}const je=x(()=>()=>e(_,null,[e("div",{class:"pt-4"},null),e(ee,{defaultExpandedNames:["reset"],displayDirective:"show"},{default:()=>[e(y,{name:"reset",title:"\u4FEE\u6539\u5BC6\u7801"},{default:()=>[e(qe,null,null)]}),e(y,{name:"token",title:"API Token"},{default:()=>[e(He,null,null)]})]})])),He=x(()=>{const t=O([]),c=()=>({name:"",expired:!1,expiredTime:new Date}),a=L(c()),p=async()=>{const{data:r}=await k.api.auth.token.get();t.value=r};ie(()=>{p()});const o=O(!1),d=async()=>{const r={name:a.name,expired:a.expired?a.expiredTime.toISOString():void 0},i=await k.api.auth.token.post({data:r});await navigator.clipboard.writeText(i.token),o.value=!1;const l=c();for(const N in l)a[N]=l[N];message.success(`\u751F\u6210\u6210\u529F, Token \u5DF2\u590D\u5236, ${i.token}`),await p();const h=t.value.findIndex(N=>N.name===r.name);h!==-1&&(t.value[h].token=i.token)},n=async r=>{await k.api.auth.token.delete({params:{id:r}}),message.success("\u5220\u9664\u6210\u529F");const i=t.value.findIndex(l=>l.id===r);i!=-1&&t.value.splice(i,1)},b=$(J);return()=>e(de,{class:"!overflow-visible"},{default:()=>[e(pe,{transformOrigin:"center",show:o.value,onUpdateShow:r=>void(o.value=r)},{default:()=>[e(ce,{bordered:!1,title:"\u521B\u5EFA Token",class:"max-w-full w-[500px]"},{default:()=>[e(f,null,{default:()=>[e(u,{label:"\u540D\u79F0",required:!0},{default:()=>[e(s,{value:a.name,onInput:r=>void(a.name=r)},null)]}),e(u,{label:"\u662F\u5426\u8FC7\u671F"},{default:()=>[e(w,{value:a.expired,onUpdateValue:r=>void(a.expired=r)},null)]}),e(u,{label:"\u8FC7\u671F\u65F6\u95F4"},{default:()=>[e(Pe,{disabled:!a.expired,value:a.expiredTime,type:"datetime",onUpdateValue:r=>void(a.expiredTime=new Date(r))},null)]})]}),e(K,null,{default:()=>[e(S,{round:!0,onClick:()=>void(o.value=!1)},{default:()=>[g("\u53D6\u6D88")]}),e(S,{round:!0,type:"primary",onClick:d},{default:()=>[g("\u786E\u5B9A")]})]})]})]}),e(S,{class:"absolute right-0 top-[-3rem]",round:!0,type:"primary",onClick:()=>{o.value=!0}},{default:()=>[e(me,null,{default:()=>[e(ve,null,null)]}),e("span",{class:"ml-2"},[g("\u65B0\u589E")])]}),e(Ce,{scrollX:Math.max(800,b.contentWidth.value-b.contentInsetWidth.value),remote:!0,bordered:!1,data:t.value,columns:[{key:"name",title:"\u540D\u79F0"},{key:"token",title:"Token",render({token:r}){return r??"*".repeat(40)}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"created",render({created:r}){return e(Q,{time:r},null)}},{title:"\u8FC7\u671F\u65F6\u95F4",key:"expired",render({expired:r}){return fe(r,"yyyy\u5E74M\u6708d\u65E5 HH:mm:ss")}},{title:"\u64CD\u4F5C",key:"id",render({id:r,name:i}){return e(K,null,{default:()=>[e(De,{positiveText:"\u53D6\u6D88",negativeText:"\u5220\u9664",onNegativeClick:()=>{n(r)}},{trigger:()=>e(S,{text:!0,type:"error"},{default:()=>[g("\u5220\u9664")]}),default:()=>e("span",{class:"max-w-48"},[g('\u786E\u5B9A\u8981\u5220\u9664 Token "'),i,g('"?')])})]})}}]},null)]})}),qe=x(()=>{const t=L({password:"",reenteredPassword:""}),c=O(),a=Z(),p=async()=>{!c.value||c.value.validate(async d=>{d?console.log(d):(await k.api.master.patch({data:{password:t.password}}),message.success("\u66F4\u6539\u6210\u529F"),be(),a.push({name:ye.Login}))})};function o(d,n){return console.log(d),n===t.password}return()=>e(f,{class:"max-w-[300px]",ref:c,model:t,rules:{password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],reenteredPassword:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",trigger:["input","blur"]},{validator:o,message:"\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4",trigger:["blur","password-input"]}]}},{default:()=>[e(u,{label:"\u65B0\u5BC6\u7801",required:!0,path:"password"},{default:()=>[e(s,m(v,{value:t.password,onInput:d=>void(t.password=d),type:"password"}),null)]}),e(u,{label:"\u91CD\u590D\u5BC6\u7801",required:!0,path:"reenteredPassword"},{default:()=>[e(s,m(v,{value:t.reenteredPassword,onInput:d=>void(t.reenteredPassword=d),type:"password"}),null)]}),e("div",{class:"w-full text-right"},[e(S,{onClick:p,type:"primary",round:!0},{default:()=>[g("\u4FDD\u5B58")]})])]})}),ze=x({props:{value:{type:Object,required:!0},onChange:{type:Function,required:!0},options:{type:Array,required:!1}},setup(t){const c=P(t.value)?null:t.value,a=E(()=>t.value,o=>{if(!c&&o){const d=Object.entries(o).map(([n,b])=>({key:n,value:b.toString()}));p.value=d,a()}}),p=O([]);return E(()=>p.value,o=>{const d=o.reduce((n,b)=>(b.key===""&&b.value===""||(n[b.key]=b.value.toString()),n),{});t.onChange(d)},{deep:!0}),()=>e(Ue,{value:p.value,onUpdateValue:o=>{p.value=(()=>{const d=o.findIndex(n=>n===null);return d!==-1&&o.splice(d,1,{key:"",value:""}),o})()}},{default(o){return e("div",{class:"flex items-center w-full"},[e(Fe,{class:"mr-4",filterable:!0,tag:!0,placeholder:"\u8BF7\u9009\u62E9",value:o.value.key,onUpdateValue:d=>{o.value.key=d},options:t.options},null),e(s,{value:o.value.value.toString(),onUpdateValue:d=>{o.value.value=d}},null)])}})}}),z={GitHub:"github",Weibo:"weibo",\u7F51\u6613\u4E91:"netease",\u54D4\u54E9\u54D4\u54E9:"bilibili"},We="_avatar_7rrjr_3";var W={"tab-user":"_tab-user_7rrjr_1",avatar:We};const $e=x(()=>{const t=O({});let c;async function a(){const n=await k.api.master.get();t.value=n,c={...n}}T(async()=>{await a()});const p=we(),o=Y(()=>X(c,t.value)),d=async()=>{const n=ae(he(o));n.socialIds&&(n.socialIds=t.value.socialIds),await k.api.master.patch({data:n}),p.success("\u4FDD\u5B58\u6210\u529F~"),await a()};return()=>e(_,null,[e(B,{cols:"1 400:1 600:2",class:W["tab-user"],xGap:20,yGap:20},{default:()=>[e(V,null,{default:()=>[e(f,{class:"flex flex-col justify-center items-center "},{default:()=>[e(u,null,{default:()=>[e("div",{class:W.avatar},[e(Ve,{type:"avatar",onFinish:n=>{const{file:b,event:r}=n;try{const i=JSON.parse((r?.target).responseText);t.value.avatar=i.url}catch{}return b}},{default:()=>[e(Te,{class:"border-0 bg-transparent hover:border-0"},{default:()=>[e(ge,{src:t.value.avatar,size:200},null)]})]})])]}),e(u,{label:"\u4E0A\u6B21\u767B\u5F55\u65F6\u95F4",class:"!mt-4"},{default:()=>[e("div",{class:"text-center w-full"},[e(U,null,{default:()=>[t.value.lastLoginTime?e(Q,{time:t.value.lastLoginTime},null):"N/A"]})])]}),e(u,{label:"\u4E0A\u6B21\u767B\u5F55\u5730\u5740"},{default:()=>[e("div",{class:"text-center w-full"},[t.value.lastLoginIp?e(Oe,{trigger:"hover",ip:t.value.lastLoginIp,triggerEl:e(U,{class:"cursor-pointer"},{default:()=>[t.value.lastLoginIp]})},null):"N/A"])]}),e(u,null,{default:()=>[e(S,{round:!0,class:"-mt-14",type:"primary",onClick:d,disabled:P(o.value)},{default:()=>[g("\u4FDD\u5B58")]})]})]})]}),e(V,null,{default:()=>[e(f,null,{default:()=>[e(u,{label:"\u4E3B\u4EBA\u540D (username)"},{default:()=>[e(s,{value:t.value.username,onInput:n=>{t.value.username=n?.trim()||""}},null)]}),e(u,{label:"\u4E3B\u4EBA\u6635\u79F0 (name)"},{default:()=>[e(s,{value:t.value.name,onInput:n=>{t.value.name=n?.trim()||""}},null)]}),e(u,{label:"\u4E3B\u4EBA\u90AE\u7BB1 (mail)"},{default:()=>[e(s,{value:t.value.mail,onInput:n=>{t.value.mail=n}},null)]}),e(u,{label:"\u4E2A\u4EBA\u9996\u9875"},{default:()=>[e(s,{value:t.value.url,onInput:n=>{t.value.url=n}},null)]}),e(u,{label:"\u5934\u50CF"},{default:()=>[e(s,{value:t.value.avatar,onInput:n=>{t.value.avatar=n}},null)]}),e(u,{label:"\u4E2A\u4EBA\u4ECB\u7ECD"},{default:()=>[e(s,{type:"textarea",resizable:!1,value:t.value.introduce,onInput:n=>{t.value.introduce=n}},null)]}),e(u,{label:"\u793E\u4EA4\u5E73\u53F0 ID \u5F55\u5165"},{default:()=>[e(ze,{options:Object.keys(z).map(n=>({label:n,value:z[n]})),onChange:n=>{t.value.socialIds=n},value:t.value.socialIds||{}},null)]})]})]})]})])});var A;(function(t){t.User="user",t.System="system",t.Security="security"})(A||(A={}));var Na=x({setup(){const t=Ie(),c=Z(),a=O(t.params.type);E(()=>t.params.type,o=>{!o||(a.value=o)});const p=O(null);return()=>e(ke,{actionsElement:p.value},{default:()=>[e(Be,{value:a.value,onUpdateValue:o=>{c.replace({...t,params:{...t.params,type:o}})}},{default:()=>[e(F,{tab:"\u7528\u6237",name:A.User},{default:()=>[e($e,null,null)]}),e(F,{tab:"\u7CFB\u7EDF",name:A.System},{default:()=>[e(Me,null,null)]}),e(F,{tab:"\u5B89\u5168",name:A.Security},{default:()=>[e(je,null,null)]})]})]})}});export{Na as default};

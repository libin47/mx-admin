import{f as A,Z as a,a2 as w,a4 as F,a3 as V,ae as z,cj as se,T as q,y as J,n as N,ah as ee,a5 as _,a6 as te,al as W,V as ae,Q as ne,ck as ce,ab as D,cl as de,X as O,b7 as ue,cm as pe,b8 as me,aR as re,ai as fe,U as L,bW as he,$ as E,c8 as ve,be as ge,c9 as ye,ca as be,cn as Ce,H,cf as we,S as xe,N as U,Y as X,co as Pe,cp as K,bn as M}from"./index-6c3d0c7c.js";import{C as Re,A as Ie}from"./ChevronRight-69ce7240.js";import{A as Y}from"./Add-c4adee49.js";import{N as Ve}from"./ButtonGroup-e3c99143.js";import{R as Ne}from"./InputNumber-a1d6ce22.js";var Se=A({name:"ArrowUp",render(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a("g",{fill:"none"},a("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}}),ke=A({name:"ChevronLeft",render(){return a("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M10.3536 3.14645C10.5488 3.34171 10.5488 3.65829 10.3536 3.85355L6.20711 8L10.3536 12.1464C10.5488 12.3417 10.5488 12.6583 10.3536 12.8536C10.1583 13.0488 9.84171 13.0488 9.64645 12.8536L5.14645 8.35355C4.95118 8.15829 4.95118 7.84171 5.14645 7.64645L9.64645 3.14645C9.84171 2.95118 10.1583 2.95118 10.3536 3.14645Z",fill:"currentColor"}))}}),Ae=w("collapse",{width:"100%"},[w("collapse-item",`
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 margin: 16px 0 0 0;
 `,[w("collapse-item","margin-left: 32px;"),F("&:first-child",{marginTop:0}),F("&:first-child >",[V("header",{paddingTop:0})]),z("left-arrow-placement",[V("header",[w("collapse-item-arrow",{marginRight:"4px"})])]),z("right-arrow-placement",[V("header",[w("collapse-item-arrow",{marginLeft:"4px"})])]),V("content-wrapper",[V("content-inner",{paddingTop:"16px"}),se({duration:"0.15s"})]),z("active",[V("header",[z("active",[w("collapse-item-arrow",{transform:"rotate(90deg)"})])])]),F("&:not(:first-child)",{borderTop:"1px solid var(--n-divider-color)"}),V("header",`
 font-size: var(--n-title-font-size);
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: color .3s var(--n-bezier);
 position: relative;
 padding: 16px 0 0 0;
 color: var(--n-title-text-color);
 `,[V("header-main",`
 cursor: pointer;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),V("header-extra",`
 cursor: pointer;
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),w("collapse-item-arrow",`
 display: flex;
 transition:
 transform .15s var(--n-bezier),
 color .3s var(--n-bezier);
 font-size: 18px;
 color: var(--n-arrow-color);
 `)])])]);const De=Object.assign(Object.assign({},_.props),{defaultExpandedNames:{type:[Array,String],default:null},expandedNames:[Array,String],arrowPlacement:{type:String,default:"left"},accordion:{type:Boolean,default:!1},displayDirective:{type:String,default:"if"},onItemHeaderClick:[Function,Array],"onUpdate:expandedNames":[Function,Array],onUpdateExpandedNames:[Function,Array],onExpandedNamesChange:{type:[Function,Array],validator:()=>!0,default:void 0}}),le=ne("n-collapse");var qe=A({name:"Collapse",props:De,setup(e,{slots:c}){const{mergedClsPrefixRef:r,inlineThemeDisabled:l,mergedRtlRef:o}=q(e),d=J(e.defaultExpandedNames),f=N(()=>e.expandedNames),C=ee(f,d),x=_("Collapse","-collapse",Ae,ce,e,r);function h(b){const{"onUpdate:expandedNames":p,onUpdateExpandedNames:g,onExpandedNamesChange:s}=e;g&&D(g,b),p&&D(p,b),s&&D(s,b),d.value=b}function u(b){const{onItemHeaderClick:p}=e;p&&D(p,b)}function v(b,p,g){const{accordion:s}=e,{value:R}=C;if(s)b?(h([p]),u({name:p,expanded:!0,event:g})):(h([]),u({name:p,expanded:!1,event:g}));else if(!Array.isArray(R))h([p]),u({name:p,expanded:!0,event:g});else{const I=R.slice(),$=I.findIndex(B=>p===B);~$?(I.splice($,1),h(I),u({name:p,expanded:!1,event:g})):(I.push(p),h(I),u({name:p,expanded:!0,event:g}))}}te(le,{props:e,mergedClsPrefixRef:r,expandedNamesRef:C,slots:c,toggleItem:v});const P=W("Collapse",o,r),S=N(()=>{const{common:{cubicBezierEaseInOut:b},self:{titleFontWeight:p,dividerColor:g,titleTextColor:s,textColor:R,arrowColor:I,fontSize:$,titleFontSize:B}}=x.value;return{"--n-font-size":$,"--n-bezier":b,"--n-text-color":R,"--n-divider-color":g,"--n-title-font-size":B,"--n-title-text-color":s,"--n-title-font-weight":p,"--n-arrow-color":I}}),y=l?ae("collapse",void 0,S,e):void 0;return{rtlEnabled:P,mergedTheme:x,mergedClsPrefix:r,cssVars:l?void 0:S,themeClass:y?.themeClass,onRender:y?.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),a("div",{class:[`${this.mergedClsPrefix}-collapse`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse--rtl`,this.themeClass],style:this.cssVars},this.$slots)}}),$e=A({name:"CollapseItemContent",props:{displayDirective:{type:String,required:!0},show:Boolean,clsPrefix:{type:String,required:!0}},setup(e){return{onceTrue:de(O(e,"show"))}},render(){return a(pe,null,{default:()=>{const{show:e,displayDirective:c,onceTrue:r,clsPrefix:l}=this,o=c==="show"&&r,d=a("div",{class:`${l}-collapse-item__content-wrapper`},a("div",{class:`${l}-collapse-item__content-inner`},this.$slots));return o?ue(d,[[me,e]]):e?d:null}})}});const Te={title:String,name:[String,Number],displayDirective:String};var We=A({name:"CollapseItem",props:Te,setup(e){const{mergedRtlRef:c}=q(e),r=re(),l=fe(()=>{var v;return(v=e.name)!==null&&v!==void 0?v:r}),o=L(le);o||he("collapse-item","`n-collapse-item` must be placed inside `n-collapse`.");const{expandedNamesRef:d,props:f,mergedClsPrefixRef:C,slots:x}=o,h=N(()=>{const{value:v}=d;if(Array.isArray(v)){const{value:P}=l;return!~v.findIndex(S=>S===P)}else if(v){const{value:P}=l;return P!==v}return!0});return{rtlEnabled:W("Collapse",c,C),collapseSlots:x,randomName:r,mergedClsPrefix:C,collapsed:h,mergedDisplayDirective:N(()=>{const{displayDirective:v}=e;return v||f.displayDirective}),arrowPlacement:N(()=>f.arrowPlacement),handleClick(v){o&&o.toggleItem(h.value,l.value,v)}}},render(){var e;const{collapseSlots:c,$slots:r,arrowPlacement:l,collapsed:o,mergedDisplayDirective:d,mergedClsPrefix:f}=this,C=r.header?r.header():this.title,x=r["header-extra"]||c["header-extra"],h=r.arrow||c.arrow;return a("div",{class:[`${f}-collapse-item`,`${f}-collapse-item--${l}-arrow-placement`,!o&&`${f}-collapse-item--active`]},a("div",{class:[`${f}-collapse-item__header`,!o&&`${f}-collapse-item__header--active`]},a("div",{class:`${f}-collapse-item__header-main`,onClick:this.handleClick},l==="right"&&C,a("div",{class:`${f}-collapse-item-arrow`,key:this.rtlEnabled?0:1},h?h({collapsed:o}):a(E,{clsPrefix:f},{default:(e=c.expandIcon)!==null&&e!==void 0?e:()=>this.rtlEnabled?a(ke,null):a(Re,null)})),l==="left"&&C),x&&a("div",{class:`${f}-collapse-item__header-extra`,onClick:this.handleClick},{default:x})),a($e,{clsPrefix:f,displayDirective:d,show:!o},r))}});const Ee=()=>Ce,Be=ve({name:"DynamicInput",common:ge,peers:{Input:ye,Button:be},self:Ee});var Ue=Be;const Z=ne("n-dynamic-input");var ze=A({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:e,placeholderRef:c}=L(Z);return{mergedTheme:e,placeholder:c}},render(){const{mergedTheme:e,placeholder:c,value:r,clsPrefix:l,onUpdateValue:o}=this;return a("div",{class:`${l}-dynamic-input-preset-input`},a(H,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:r,placeholder:c,onUpdateValue:o}))}}),Oe=A({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(e){const{mergedThemeRef:c,keyPlaceholderRef:r,valuePlaceholderRef:l}=L(Z);return{mergedTheme:c,keyPlaceholder:r,valuePlaceholder:l,handleKeyInput(o){e.onUpdateValue({key:o,value:e.value.value})},handleValueInput(o){e.onUpdateValue({key:e.value.key,value:o})}}},render(){const{mergedTheme:e,keyPlaceholder:c,valuePlaceholder:r,value:l,clsPrefix:o}=this;return a("div",{class:`${o}-dynamic-input-preset-pair`},a(H,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:l.key,class:`${o}-dynamic-input-pair-input`,placeholder:c,onUpdateValue:this.handleKeyInput}),a(H,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:l.value,class:`${o}-dynamic-input-pair-input`,placeholder:r,onUpdateValue:this.handleValueInput}))}}),Fe=w("dynamic-input",{width:"100%"},[w("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[w("dynamic-input-preset-input",{flex:1,alignItems:"center"}),w("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[w("dynamic-input-pair-input",[F("&:first-child",{"margin-right":"12px"})])]),V("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[z("icon",{cursor:"pointer"})]),F("&:last-child",{marginBottom:0})]),w("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[w("form-item-blank",{paddingTop:"0 !important"})])]);const j=new WeakMap,je=Object.assign(Object.assign({},_.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]});var Ze=A({name:"DynamicInput",props:je,setup(e,{slots:c}){const{mergedComponentPropsRef:r,mergedClsPrefixRef:l,mergedRtlRef:o,inlineThemeDisabled:d}=q(),f=L(we,null),C=J(e.defaultValue),x=O(e,"value"),h=ee(x,C),u=_("DynamicInput","-dynamic-input",Fe,Ue,e,l),v=N(()=>{const{value:t}=h;if(Array.isArray(t)){const{max:n}=e;return n!==void 0&&t.length>=n}return!1}),P=N(()=>{const{value:t}=h;return Array.isArray(t)?t.length<=e.min:!0}),S=N(()=>{var t,n;return(n=(t=r?.value)===null||t===void 0?void 0:t.DynamicInput)===null||n===void 0?void 0:n.buttonSize});function y(t){const{onInput:n,"onUpdate:value":m,onUpdateValue:i}=e;n&&D(n,t),m&&D(m,t),i&&D(i,t),C.value=t}function b(t,n){if(t==null||typeof t!="object")return n;const m=K(t)?M(t):t;let i=j.get(m);return i===void 0&&j.set(m,i=re()),i}function p(t,n){const{value:m}=h,i=Array.from(m??[]),k=i[t];if(i[t]=n,k&&n&&typeof k=="object"&&typeof n=="object"){const ie=K(k)?M(k):k,oe=K(n)?M(n):n,Q=j.get(ie);Q!==void 0&&j.set(oe,Q)}y(i)}function g(){s(0)}function s(t){const{value:n}=h,{onCreate:m}=e,i=Array.from(n??[]);if(m)i.splice(t+1,0,m(t+1)),y(i);else if(c.default)i.splice(t+1,0,null),y(i);else switch(e.preset){case"input":i.splice(t+1,0,""),y(i);break;case"pair":i.splice(t+1,0,{key:"",value:""}),y(i);break}}function R(t){const{value:n}=h;if(!Array.isArray(n))return;const{min:m}=e;if(n.length<=m)return;const i=Array.from(n);i.splice(t,1),y(i);const{onRemove:k}=e;k&&k(t)}function I(t,n,m){if(n<0||m<0||n>=t.length||m>=t.length||n===m)return;const i=t[n];t[n]=t[m],t[m]=i}function $(t,n){const{value:m}=h;if(!Array.isArray(m))return;const i=Array.from(m);t==="up"&&I(i,n,n-1),t==="down"&&I(i,n,n+1),y(i)}te(Z,{mergedThemeRef:u,keyPlaceholderRef:O(e,"keyPlaceholder"),valuePlaceholderRef:O(e,"valuePlaceholder"),placeholderRef:O(e,"placeholder")});const B=W("DynamicInput",o,l),G=N(()=>{const{self:{actionMargin:t,actionMarginRtl:n}}=u.value;return{"--action-margin":t,"--action-margin-rtl":n}}),T=d?ae("dynamic-input",void 0,G,e):void 0;return{locale:xe("DynamicInput").localeRef,rtlEnabled:B,buttonSize:S,mergedClsPrefix:l,NFormItem:f,uncontrolledValue:C,mergedValue:h,insertionDisabled:v,removeDisabled:P,handleCreateClick:g,ensureKey:b,handleValueChange:p,remove:R,move:$,createItem:s,mergedTheme:u,cssVars:d?void 0:G,themeClass:T?.themeClass,onRender:T?.onRender}},render(){const{$slots:e,buttonSize:c,mergedClsPrefix:r,mergedValue:l,locale:o,mergedTheme:d,keyField:f,itemStyle:C,preset:x,showSortButton:h,NFormItem:u,ensureKey:v,handleValueChange:P,remove:S,createItem:y,move:b,onRender:p}=this;return p?.(),a("div",{class:[`${r}-dynamic-input`,this.rtlEnabled&&`${r}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(l)||l.length===0?a(U,Object.assign({block:!0,ghost:!0,dashed:!0,size:c},this.createButtonProps,{disabled:this.insertionDisabled,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>X(e["create-button-default"],()=>[o.create]),icon:()=>X(e["create-button-icon"],()=>[a(E,{clsPrefix:r},{default:()=>a(Y,null)})])}):l.map((g,s)=>a("div",{key:f?g[f]:v(g,s),"data-key":f?g[f]:v(g,s),class:`${r}-dynamic-input-item`,style:C},Pe(e.default,{value:l[s],index:s},()=>[x==="input"?a(ze,{clsPrefix:r,value:l[s],parentPath:u?u.path.value:void 0,path:u?.path.value?`${u.path.value}[${s}]`:void 0,onUpdateValue:R=>P(s,R)}):x==="pair"?a(Oe,{clsPrefix:r,value:l[s],parentPath:u?u.path.value:void 0,path:u?.path.value?`${u.path.value}[${s}]`:void 0,onUpdateValue:R=>P(s,R)}):null]),a("div",{class:`${r}-dynamic-input-item__action`},a(Ve,{size:c},{default:()=>[a(U,{disabled:this.removeDisabled,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,circle:!0,onClick:()=>S(s)},{icon:()=>a(E,{clsPrefix:r},{default:()=>a(Ne,null)})}),a(U,{disabled:this.insertionDisabled,circle:!0,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:()=>y(s)},{icon:()=>a(E,{clsPrefix:r},{default:()=>a(Y,null)})}),h?a(U,{disabled:s===0,circle:!0,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:()=>b("up",s)},{icon:()=>a(E,{clsPrefix:r},{default:()=>a(Se,null)})}):null,h?a(U,{disabled:s===l.length-1,circle:!0,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:()=>b("down",s)},{icon:()=>a(E,{clsPrefix:r},{default:()=>a(Ie,null)})}):null]})))))}});export{qe as N,We as a,Ze as b};
